<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- makes layout responsive to mobile and desktop -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Jumbled Words!</title> <!-- title shown in browser tab -->

  <!-- Bootstrap CSS framework for layout, grid, buttons, modals -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    /* page background color */
    body { background-color: #f8f9fa; }

    /* header styling with dark background and rounded bottom edges */
    .header { background-color: #343a40; padding: 2rem; border-radius: 0 0 20px 20px; }

    /* makes the title text inside header white */
    .header h1 { color: white; }
  </style>
</head>

<body>
    <!-- Flask flash messages:
        - Backend can send one-time messages
        - If any exist, loop through them and display inside Bootstrap alert
        - Alert style depends on category passed (success, danger, etc)
        - Each alert has a close button to dismiss it without reloading -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="container mt-3">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- App header with main title -->
    <div class="container header text-center">
      <h1>Jumbled Words!</h1>
    </div>

    <!-- Main menu buttons:
        - Add Word opens modal to create a custom word
        - Play redirects user to /play to start the game -->
    <div class="container text-center mt-4">
      <button class="btn btn-primary me-2" data-bs-toggle="modal" data-bs-target="#exampleModal">Add Word</button>
      <a href="/play" class="btn btn-success">Play</a>
    </div>

    <!-- Modal popup for adding custom words:
        - User types a word in textarea
        - Form submits with POST to backend
        - Backend stores word in MongoDB
        - Buttons allow either closing the modal or submitting -->
    <div class="modal fade" id="exampleModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Add a Word</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <form method="POST">
                <textarea name="addWord" class="form-control" rows="1" required></textarea>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Add Word</button>
            </div>
              </form>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS bundle for modal, alert, and button functionality -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
